<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>03. 노드의 생성과 추가</h1>
    <pre>
        createElement(tagName) : 인수로 전달받은 태그 이름에 해당하는 요소 노드 생성 후 반환
        createTextNode(text) : 인수로 전달받은 텍스트 값으로 텍스트 노드 생성 후 반환
        appendChild(childNode) : 인수로 전달 받은 노드를 appendChild 를 호출한 노드의 마지막 자식에 추가
    </pre>
    <ul id='bread'>
        <li>소보루</li>
    </ul>
    <script>
        const $bread = document.getElementById('bread');

        // 요소 노드 생성
        const $li = document.createElement('li');

        // 텍스트 노드 생성
        const text = document.createTextNode('바게트');

        // 만든 요소와 텍스트 결합
        $li.appendChild(text);

        // 결합 시킨 노드를 DOM 에 추가
        $bread.append($li);
    </script>
    
    <h3> 복수의 노드 생성과 추가</h3>
    <ul id="food">
        <li>김치찌개</li>
    </ul>
    <script>
        const $food = document.getElementById('food');
        // food 라는 id 를 가진 ul 요소를 선택

        /*
        createDocumentFragment();
        별도의 서브 DOM을 만들어서 요소들을 채운 후
        기존의 DOM에 추가 
        지금 보이지 않는 또 하나의 html 페이지를 만들었다고 생각하자.
        */
       
        const $fragment =document.createDocumentFragment();
        // 파파고에서 문서의 파편을 만든다 라고 해석한다.
        // 새로운 DocumentFragment 생성.

        //여러가지 생성 메뉴
        const menuList = ['된장찌개','순두부 찌개'];  // food에 추가할 메뉴리스트

        
        //menu 라는 매개변수는 배열의 요소 한개를 의미한다.
        menuList.forEach(menu =>{
            // 새로운 li 요소 생성 하기
            const $li = document.createElement('li');
            //li 요소에 텍스트를 설정하기
            $li.textContent = menu;

            /*
            굳이 가상의 돔에 만들어진 2개의  li + text 를 담은후 실제 돔에 추가하는 방식을
            사용하는 이유는 DOM은 변경이 감지되면 리플로우, 리페인트가 진행이 된다.
            우리가 반복문이 들어갈때마다 실제 돔에 append를 하게 되면 반복문 요소만큼 
            리플로우와 리페인트가 진행이 된다.
            ex> 배열의 크기 5 -> 5번 반복실행
            가상의 돔을 생성하서 여기에 배열의 크기만큼
            요소를 생성 한 뒤, 돔에는 1번 append를 진행한다.
            */
           // li요소를 DocumentFragment 에 추가 
           $fragment.appendChild($li);
           //food ul 요소에 DocumentFragment 를 추가
           food.appendChild($fragment);
            
        })
    </script>
</body>
</html>